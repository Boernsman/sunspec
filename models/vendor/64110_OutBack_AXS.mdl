# 
# Copyright (c) 2011-2012, John D. Blair <jdb@moship.net>
# All rights reserved.
#
# 10x_Inverter.mdl modified to OutBack ASX.mdl by
# Darren Emmons OutBack Power Technologies 
# 
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions are met:
# 
# * Redistributions of source code must retain the above copyright
#   notice, this list of conditions and the following disclaimer.
# 
# * Redistributions in binary form must reproduce the above copyright
#   notice, this list of conditions and the following disclaimer in the
#   documentation and/or other materials provided with the distribution.
# 
# * Neither the name of John D. Blair nor his lackeys may be used
#   to endorse or promote products derived from this software
#   without specific prior written permission.
# 
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
# "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
# FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
# JOHN D. BLAIR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
# USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
# ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
# OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
# OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
# SUCH DAMAGE.


#
# OutBack AXS device
#
model suns {
  name "OutBack AXS device"
  did 64110 "OutBack AXS device"
  datapoints {
    MajorFWRev        {  uint16 label="AXS Major Firmware Number" req }
    MidFWRev          {  uint16 label="AXS Mid Firmware Number" req }
    MinorFWRev        {  uint16 label="AXS Minor Firmware Number" req }
    EncrypKey         {  uint16 label="Encryption Key" req }
    MAC_Address       {  string.14 label="MAC Address" req }
    WritePassword     {  string.16 label="Write Password" req } 
    EnableDHCP        {  enum16.Enable_Enum label="Enable DHCP" req }
    TCPIP_address     {  ipaddr label="TCPIP Address" req }
    Gateway_address   {  ipaddr label="TCPIP Gateway" req }
    TCPIP_Netmask     {  ipaddr label="TCPIP Netmask" req }
    DNS1_address      {  ipaddr label="TCPIP DNS1" req } 
    DNS2_address      {  ipaddr label="TCPIP DNS2" req } 
#    TCPIP_address     {  uint32 label="TCPIP Address" req }
#    Gateway_address   {  uint32 label="TCPIP Gateway" req }
#    TCPIP_Netmask     {  uint32 label="TCPIP Netmask" req }
#    DNS1_address      {  uint32 label="TCPIP DNS1" req } 
#    DNS2_address      {  uint32 label="TCPIP DNS2" req } 
    Modbus_port       {  uint16 label="ModBus Port" req } 
    SMTP_server_nm    {  string.40 label="SMTP Server Name" req } 
    SMTP_account_nm   {  string.32 label="SMTP Account Name" req } 
    SMTP_enable_SSL   {  enum16.Mode_Enum label="Enable SMTP SSL" req }
    SMTP_password     {  string.16 label="SMTP Password" req }
    SMTP_user_nm      {  string.40 label="SMTP User Name" req }
    Stat_email_int    {  uint16 label="Status Email Interval" req }
    Stat_start_HR     {  uint16 label="Status Email Start Hour" req }
    Stat_email_sub    {  string.50 label="Status Email Subject" req }
    Stat_email_addr1  {  string.40 label="Status Email to Address 1" req }
    Stat_email_addr2  {  string.40 label="Status Email to Address 2" req }
    Alarm_email_en    {  enum16.Mode_Enum label="Enable Alarm Email" req }
    Alarm_email_sub   {  string.50 label="Alarm Email Subject" req }
    Alarm_email_addr1 {  string.40 label="Alarm Email to Address 1" req }
    Alarm_email_addr2 {  string.40 label="Alarm Email to Address 2" req }
    FTP_password      {  string.16 label="FTP Password" req }
    TELNET_password   {  string.16 label="Telnet Password" req }
    Log_write_int     {  uint16 u=Tms label="SD-Card Datalog Write Interval" req }
    Log_retain        {  uint16 u=Tmd label="SD-Card Datalog Retain" req }
    Log_mode          {  enum16.Log_Enum label="SD-Card Datalog Mode" req }  
    NTP_server_nm     {  string.40 label="NTP Timer Server Name" req } 
    NTP_enable        {  enum16.Mode_Enum label="Enable Network Time" req }
    TimeZone          {  int16 u=Tmh label="Time Zone" req }
    Date_year         {  uint16 label="Year" req }
    Date_month        {  uint16 label="Month" req }
    Date_Day          {  uint16 label="Day" req }
    Time_hour         {  uint16 label="Hour" req }
    Time_minute       {  uint16 label="Minute" req }
    Time_second       {  uint16 label="Second" req }
    Battery_temp      {  int16.Temp_CF u=C label="Battery Temperature" req }
    Ambient_temp      {  int16.Temp_SF u=C label="Ambient Temperature" req }
    Temp_SF           {  sunssf req }
    AXS_Error         {  bitfield16 label="AXS Error" req }
    AXS_Status        {  bitfield16 label="AXS Status" req }   
    AXS_Spare         {  uint16 label="Spare" req }
  }


  define Mode_Enum {
    ASX_DISABLED              { 0 "Disabled" }
    ASX_ENABLED               { 1 "Enabled" }
  }

  define Log_Enum {
    LOG_DISABLED           { 0 "Disabled" }
    LOG_EXCEL              { 1 "Excel" }
    LOG_COMPACT            { 2 "Compact" }
  }
}

data OutBack_AXS_64110_test {
    64110
    282
}



  


