
#
# environmental models
#

#
# original base meteorological model
# DEPRECATED!  Only shown here for historical reasons
#
model suns {
  name "met"
  did 301 "base meteorological"
  datapoints {
    E_BaseMet_AirTemperature      { int32 u=C        }
    E_BaseMet_RelativeHumidity    { int32 u=perc  }
    E_BaseMet_BarometricPressure  { int32 u=hPa      }
    E_BaseMet_WindSpeed           { int32 u=ms       }
    E_BaseMet_WindDirection       { int32 u=deg      }
    E_BaseMet_Rain                { int32 u=in       } # yes, inches!
    E_BaseMet_Snow                { int32 u=in       } # yes, inches!
    E_BaseMet_PPTType             { int32            }
    E_BaseMet_ElectricalField     { int32 u=Vm       }
    E_BaseMet_SurfaceWetness      { int32 u=kOhms    }
    E_BaseMet_SoilMoisture        { int32 u=perc  }
  }
}


data suns_met301_test {
  301
  22
  int32:18
  int32:222
  int32:17
  int32:234
  int32:10
  int32:0
  int32:0x80000000
  int32:0x80000000
  int32:0x80000000
  int32:0x80000000
  int32:0x80000000
}

#
# version 1.1 base meteorological model
#
model suns {
  name "met_v1.1"
  did 307 "meteorological v1.1"
  datapoints {
    TmpAmb         { int16.-1  u=C       }
    RH             { int16     u=perc   }
    Pres           { int16     u=HPa       }
    WndSpd         { int16     u=ms        }
    WndDir         { int16     u=deg       }
    Rain           { int16     u=mm        }
    Snw            { int16     u=mm        }
    PPT            { int16                 }
    ElecFld        { int16     u=Vm        }
    SurWet         { int16     u=kOhms     }
    SoilWet        { int16     u=perc   }
  }
}


data suns_met307_test {
  307
  11
  uint16:18
  uint16:222
  uint16:17
  uint16:234
  uint16:10
  uint16:0
  uint16:0x80000000
  uint16:0x80000000
  uint16:0x80000000
  uint16:0x80000000
  uint16:0x80000000
}

#
# irradiance model
#
model suns {
  name "met_irr"
  did 302 "irradiance"
  datapoints repeating {
    GHI   { uint16 u=Wm2 lname=E_Irradiance_Global_Horizontal }
    POAI  { uint16 u=Wm2 lname=E_Irradiance_Plane_of_Array }
    DFI   { uint16 u=Wm2 lname=E_Irradiance_Diffuse }
    DNI   { uint16 u=Wm2 lname=E_Irradiance_Direct }
    OTI   { uint16 u=Wm2 lname=E_Irradiance_Other }
  }
}

#
# back of module temperature
#
model suns {
  name "met_bom"
  did 303 "back of module temperature"
  datapoints repeating {
    TmpBOM { int16.-1 u=C req }
  }
}


data suns_met303_test {
  303
  4
  int16:20
  int16:18
  int16:19
  int16:21
} 

#
# inclinometer
#
model suns {
  name "met_incl"
  did 304 "inclinometer"
  datapoints repeating {
    InclX                 { int32.-2 u=deg req }
    InclY                 { int32.-2 u=deg }
    InclZ                 { int32.-2 u=deg }
  }
}


data suns_met304_test {
  304
  12
  int32:920
  int32:0x80000000
  int32:0x80000000
  int32:930
  int32:0x80000000
  int32:0x80000000
}


#
# location
#
model suns {
  name "location"
  did 305 "location"
  datapoints {
    Tm                     { string.10 }
    Date                   { string.08 }
    Loc                    { string.40 }
    Lat                    { int32.-7  u=deg req }
    Long                   { int32.-7  u=deg req }
    Alt                    { int32     u=m  }
  }
}
